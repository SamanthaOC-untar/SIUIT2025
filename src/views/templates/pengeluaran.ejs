<% layout('layout', { title: 'Pengeluaran', header: 'Data Pengeluaran' }) %>

<!-- Form Filter -->
<form method="GET" action="/pengeluaran">
  <label>Kategori:</label>
  <select name="kategori">
    <option value="">Semua</option>
    <option value="operasional">Operasional</option>
    <option value="gaji">Gaji</option>
  </select>
  <button type="submit">Filter</button>
</form>

<!-- Tabel Data -->
<table>
  <thead>
    <tr>
      <th>No</th>
      <th>Sumber</th>
      <th>Jumlah</th>
      <th>Kategori</th>
      <th>Tanggal</th>
    </tr>
  </thead>
  <tbody>
    <% if (pengeluaran.length > 0) { %>
      <% pengeluaran.forEach((item, index) => { %>
        <tr>
          <td><%= index+1 %></td>
          <td><%= item.sumber %></td>
          <td>Rp <%= item.jumlah.toLocaleString() %></td>
          <td><%= item.kategori %></td>
          <td><%= item.tanggal.toLocaleDateString() %></td>
        </tr>
      <% }); %>
    <% } else { %>
      <tr>
        <td colspan="5">Tidak ada data</td>
      </tr>
    <% } %>
  </tbody>
</table>